<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <title>Brewery Website</title>
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      text-transform: none;
      background-color: #fff;
      color: #000;
    }
    h1, h2, h3, h4, h5, h6,
      .navbar a,
      .carousel-item div,
      .menu-item-name {
      text-transform: uppercase;
    }
    nav {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #fff;
      padding: 20px;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 4px rgba(255,255,255,0.1);
    }
    nav img.logo {
      height: 50px;
      margin-right: auto;
      margin-left: 20px;
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1100;
    }
    nav a {
      margin: 0 15px;
      text-decoration: none;
      color: #8517ff;
      font-weight: bold;
      position: relative;
      transition: color 0.3s;
    }
    nav a:hover {
      color: #cea2ff;
    }
    nav a::after {
      content: "";
      position: absolute;
      width: 0%;
      height: 2px;
      bottom: -5px;
      left: 0;
      background-color: #fff;
      transition: width 0.3s;
    }
    nav a:hover::after {
      width: 100%;
    }
    header {
      position: relative;
    }
    header img.main-img {
      width: 100%;
      height: auto;
      display: block;
    }
    section {
      padding: 60px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    h2 {
      font-size: 2rem;
      margin-bottom: 20px;
      color: #8517ff;
    }
    .carousel-wrapper {
      position: relative;
    }
    .carousel {
      display: flex;
      overflow-x: hidden;
      scroll-behavior: smooth;
      gap: 20px;
    }
    .carousel-item {
      flex: 0 0 22%;
      background:  transparent !important;
      border-radius: 8px;
      text-align: center;
      min-width: 22%;
    }
    .carousel-item img {
      width: 250px;
      height: 250px;
      object-fit: cover;
      border-radius: 16px;
    }
    .carousel-item a {
      display: block;
      padding: 8px;
      margin-top: 5px;
      text-align: center;
      font-weight: 600;
      border: none;  /* Remove border */
      background-color: transparent;  /* Remove background */
      border-radius: 0;  /* Remove radius */
    }
     .carousel-arrow {
        position: absolute;
        top: 50%;
        transform: translateY(-50%);
        font-size: 2rem;
        color: #E41090;
        background: transparent !important; /* Changed from rgba(0,0,0,0.5) */
        border: none;
        cursor: pointer;
        z-index: 10;
    }
    .left-arrow {
      left: -40px;
    }
    .right-arrow {
      right: -40px;
    }
    @media (max-width: 768px) {
      .carousel-item {
        flex: 0 0 45%;
        min-width: 45%;
      }
      .carousel-arrow {
        font-size: 1.5rem;
      }
    }
    @media (max-width: 480px) {
      .carousel-item {
        flex: 0 0 90%;
        min-width: 90%;
      }
    }
    .contact {
      background: #fff;
      border-top: 1px solid #333;
    }
    .contact p {
      margin: 5px 0;
    }
    .hours div {
      margin: 5px 0;
    }
    .today {
      color: #cc00ff;
      font-weight: bold;
    }
    .faq-entry {
      margin-bottom: 30px;
    }
    .faq-entry h4 {
      margin-bottom: 5px;
      color: #000;
    }
    .faq-entry p {
      margin-top: 0;
    }
    iframe {
      width: 100%;
      height: 300px;
      border: none;
      margin-top: 20px;
      border-radius: 8px;
    }
    #taplist .item {
        background-color: white !important;
        border: 1px solid #000;
        padding: 10px;
    }
    section {
        border-bottom: 1px solid #000;
        padding-bottom: 20px;
        margin-bottom
    }
  
    /* TAPLIST updated to grid layout */
    #taplist .carousel {
      display: grid;
      grid-template-columns: repeat(5, 1fr);
      gap: 20px;
    }
    #taplist .carousel-item {
      background: transparent !important;
      border-radius: 8px;
      text-align: center;
      width: 100%;
    }
    #taplist .carousel-item img {
      width: 100%;
      height: auto;
      max-width: 250px;
      aspect-ratio: 1/1;
      object-fit: cover;
      border-radius: 16px;
      margin: 0 auto;
    }
    #taplist .carousel-item a {
      display: block;
      padding: 8px;
      margin-top: 5px;
      text-align: center;
      font-weight: 600;
      border: none;
      background-color: transparent;
      border-radius: 0;
    }
    @media (max-width: 1024px) {
      #taplist .carousel {
        grid-template-columns: repeat(4, 1fr);
      }
    }
    @media (max-width: 768px) {
      #taplist .carousel {
        grid-template-columns: repeat(3, 1fr);
      }
    }
    @media (max-width: 480px) {
      #taplist .carousel {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    /* TOGO styled like TAPLIST */
    #togo .carousel {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 20px;
    }
    #togo .carousel-item {
      background: transparent !important;
      border-radius: 8px;
      text-align: center;
      width: 100%;
    }
    #togo .carousel-item img {
      width: 100%;
      height: auto;
      max-width: 250px;
      aspect-ratio: 1/1;
      object-fit: cover;
      border-radius: 16px;
      margin: 0 auto;
    }
    #togo .carousel-item a {
      display: block;
      padding: 8px;
      margin-top: 5px;
      text-align: center;
      font-weight: 600;
      color: inherit;
      text-decoration: none;
      background-color: transparent;
      border-radius: 0;
    }
    #togo .carousel-item a:hover {
      color: #fff;
    }
   
    /* RESTYLE FOR LOGO CENTERED OVER TOP NAV ON MOBILE DEVICES */

  @media screen and (max-width: 768px) {
  nav {
    display: flex;
    flex-direction: row; /* keep links horizontal */
    justify-content: center;
    align-items: center;
    padding-top: 60px; /* space for logo above */
    flex-wrap: wrap; /* allow wrapping if needed */
    position: relative;
  }

  nav img.logo {
    position: absolute;
    top: 10px;
    left: 50%;
    transform: translateX(-50%);
    height: 40px;
    z-index: 1100;
  }

  nav a {
    margin: 0 10px;
    font-size: 14px;
  }
}

  </style>
</head>
<body>

  <nav>
    <img src="/howzit/bubble.svg" alt="Logo" class="logo">
    <a href="#taplist">Tap List</a>
    <a href="#togo">To Go</a>
    <a href="#merch">Merch</a>
    <a href="#visit">Visit</a>
    <a href="#faq">FAQ</a>
  </nav>

  <header>
    <img src="https://lh3.googleusercontent.com/p/AF1QipMU-KK2nqWIPUPJ84r54ZiR4hiV08W3_2KnqZTF=s1360-w1360-h1020" alt="Brewery Image" class="main-img">
  </header>

  <!-- MERCH SECTION - INLINE DISPLAY -->
<section id="merch" style="padding: 60px 20px; max-width: 1200px; margin: 0 auto;">
  <h2 style="color: #ff216f; font-size: 2rem; margin-bottom: 20px;">Merch</h2>
  <div id="merch-grid" style="display: flex; flex-wrap: wrap; gap: 20px;"></div>
</section>

<script>
  async function loadMerch() {
    const res = await fetch('/.netlify/functions/get-skater-tee');
    const product = await res.json();

    const colorMap = {};
    product.variations.forEach(v => {
      const [size, color] = v.name.split(',').map(s => s.trim());
      if (!colorMap[color]) colorMap[color] = [];
      colorMap[color].push({
        id: v.id,
        size,
        available: v.available,
        price: v.price
      });
    });

    const sizeOrder = ["XS", "Small", "Medium", "Large", "XL", "2XL", "3XL"];
    const merchGrid = document.getElementById('merch-grid');

    Object.entries(colorMap).forEach(([color, variations]) => {
      const inStock = variations.filter(v => v.available);

      const card = document.createElement('div');
      card.style = 'background:#111; border:1px solid #ff216f; border-radius:12px; padding:20px; width:260px; color:#fff; font-family: Montserrat, sans-serif;';

      const img = document.createElement('img');
      img.src = product.image || 'https://via.placeholder.com/300';
      img.alt = color;
      img.style = 'width:100%; height:auto; border-radius:8px;';
      card.appendChild(img);

      const title = document.createElement('div');
      title.textContent = `Skater Tee - ${color}`;
      title.style = 'margin-top:12px; font-weight:bold; color:#ff216f;';
      card.appendChild(title);

      const sizeLabel = document.createElement('label');
      sizeLabel.textContent = 'Choose Size';
      sizeLabel.style = 'display:block; margin-top:10px;';
      card.appendChild(sizeLabel);

      const select = document.createElement('select');
      select.style = 'margin-top:5px; width:100%; padding:6px; font-family:Montserrat,sans-serif; border-radius:6px; border:1px solid #ff216f;';
      select.innerHTML = '<option value="">-- Select --</option>';

      inStock
        .sort((a, b) => sizeOrder.indexOf(a.size) - sizeOrder.indexOf(b.size))
        .forEach(v => {
          const opt = document.createElement('option');
          opt.value = v.id;
          opt.textContent = v.size;
          select.appendChild(opt);
        });

      select.addEventListener('change', async (e) => {
        const variationId = e.target.value;
        if (!variationId) return;

        const response = await fetch('/.netlify/functions/create-checkout', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify({ variation_id: variationId, quantity: 1 })
        });
        const data = await response.json();
        if (data.url) {
          window.location.href = data.url;
        } else {
          alert('Error creating checkout session');
        }
      });

      card.appendChild(select);
      merchGrid.appendChild(card);
    });
  }

  loadMerch();
</script>


  <section id="taplist">
    <h2>Tap List</h2>
    <div class="carousel-wrapper">
  <div class="carousel" id="taplist-carousel">
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-absorbing-memories/6207395" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6207395_a3e42_hd.jpeg" alt="Absorbing Memories">
        <div>Absorbing Memories</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-local-legend/5660501" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Local Legend">
        <div>Local Legend</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-flat-day-ipa/5797585" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Flat Day">
        <div>Flat Day</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-tropical-legend/6118432" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6118432_44d2a_hd.jpeg" alt="Tropical Legend">
        <div>Tropical Legend</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-chance-encounter/6155607" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6118432_44d2a_hd.jpeg" alt="Chance Encounter">
        <div>Chance Encounter</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-run-drink-radler-repeat/6199245" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6199245_bb64b_hd.jpeg" alt="Grapefruit Radler">
        <div>Run Drink Radler Repeat</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-run-drink-radler-repeat/6199245" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6199245_bb64b_hd.jpeg" alt="Ube Coconut Stout">
        <div>Anniversary Stout: Year 1</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-reflecting-on-simplicity-helles-lager/6178595" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6178595_21808_hd.jpeg" alt="Helles Lager">
        <div>Reflecting on Simplicity</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/inu-island-ales-weiz-guyz/6215644" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6215644_613b8_hd.jpeg" alt="Hefeweizen">
        <div>Weiz Guys</div>
      </a>
    </div>
     <div class="carousel-item">
      <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">
        <img src="https://i.imgur.com/gakGmqU.jpeg alt="Rotating Seltzer">
        <div>Rotating Seltzer</div>
      </a>
    </div>
  </div>
      </div>
  </section>

  
  <section id="togo">
    <h2>To Go</h2>
    <p id="no-togo-message" style="display: none;">No to-go beers at this time.</p>
    <div class="carousel-wrapper" id="togo-wrapper">
      <div class="carousel" id="togo-carousel">
        <div class="carousel-item">
          <a href="https://untappd.com" target="_blank">
            <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Can One">
            <div>Can One</div>
          </a>
        </div>
        <div class="carousel-item">
          <a href="https://untappd.com" target="_blank">
            <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Can Two">
            <div>Can Two</div>
          </a>
        </div>
        <div class="carousel-item">
          <a href="https://untappd.com" target="_blank">
            <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Can Three">
            <div>Can Three</div>
          </a>
        </div>
      </div>
    </div>
  </section>


  <section id="visit" class="contact">
    <h2>Visit Us</h2>
    <p><strong>Address:</strong> 330 Kamani Street, Honolulu, HI</p>
    <div class="hours">
      <div id="mon">We're open seven days a week from 12pm–10pm</div>
      
    </div>
    <iframe src="https://www.google.com/maps?q=330+Kamani+Street+Honolulu+HI&output=embed" allowfullscreen></iframe>
  </section>

  <section id="faq">
    <h2>FAQ</h2>
    <div class="faq-entry">
      <h4>Do you allow dogs?</h4>
      <p>Yes, well behaved dogs are welcome on our outdoor patio.</p>
    </div>
    <div class="faq-entry">
      <h4>Are kids allowed</h4>
      <p>Kids are allowed but they must be seated by their parent AT ALL TIMES.</p>
    </div>
    <div class="faq-entry">
      <h4>Do you guys serve food?</h4>
      <p>We do not serve food but we work with a rotating selection of food trucks. Follow us on instagram for up to date information on who will be here.</p>
    </div>
    <div class="faq-entry">
      <h4>Do you have parking?</h4>
      <p>We have three spots in front of the building. There is usually street parking when construction is done for the day OR you can park in the garage at 831 Halekauwila and we will take your first hour's parking ($3) off your tab.</p>
      <div class="faq-entry">
      <h4>How do I get ahold of you?</h4>
      <p>Any questions you have may be sent to us via DM on instagram.</p>
    </div>
  </section>

  <script>
    
  // Toggle To-Go carousel based on availability
  const toGoAvailable = false; // Set to false when no to-go beers available
  const togoWrapper = document.getElementById('togo-wrapper');
  const noTogoMsg = document.getElementById('no-togo-message');

  if (!toGoAvailable) {
    togoWrapper.style.display = 'none';
    noTogoMsg.style.display = 'block';
  }

    // Code for logo to disappear on scroll
    window.addEventListener('scroll', function() {
        const logo = document.querySelector('.logo');
        if (window.scrollY > 50) {
            logo.style.display = 'none';
        } else {
            logo.style.display = 'block';
        }
    });
</script>

</body>
</html>
