<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;600;700&display=swap" rel="stylesheet">
  <title>Brewery Website</title>
  <style>
    html {
      scroll-behavior: smooth;
    }
    body {
      margin: 0;
      font-family: 'Montserrat', sans-serif;
      background-color: #fff;
      color: #000;
    }
    h1, h2, h3, h4, h5, h6,
    .navbar a,
    .carousel-item div,
    .menu-item-name {
      text-transform: uppercase;
    }
    nav {
      display: flex;
      justify-content: center;
      align-items: center;
      background-color: #fff;
      padding: 20px;
      position: sticky;
      top: 0;
      z-index: 1000;
      box-shadow: 0 2px 4px rgba(255,255,255,0.1);
    }
    nav img.logo {
      height: 50px;
      margin-right: auto;
      margin-left: 20px;
      position: absolute;
      top: 10px;
      left: 10px;
      z-index: 1100;
    }
    nav a {
      margin: 0 15px;
      text-decoration: none;
      color: #8517ff;
      font-weight: bold;
      position: relative;
      transition: color 0.3s;
    }
    nav a:hover {
      color: #cea2ff;
    }
    nav a::after {
      content: "";
      position: absolute;
      width: 0%;
      height: 2px;
      bottom: -5px;
      left: 0;
      background-color: #fff;
      transition: width 0.3s;
    }
    nav a:hover::after {
      width: 100%;
    }
    header {
      position: relative;
    }
    header img.main-img {
      width: 100%;
      height: auto;
      display: block;
    }
    section {
      padding: 60px 20px;
      max-width: 1200px;
      margin: 0 auto;
    }
    h2 {
      font-size: 2rem;
      margin-bottom: 20px;
      color: #8517ff;
    }
    /* ... rest of existing styles ... */

    /* Embedded checkout styles */
    #embedded-checkout {
      padding: 40px;
      max-width: 600px;
      margin: 40px auto;
      background: #111;
      border-radius: 12px;
      display: none;
      color: #fff;
      font-family: Montserrat, sans-serif;
    }
    #embedded-checkout input {
      width: 100%;
      padding: 8px;
      margin-bottom: 10px;
    }
    #card-button {
      padding: 12px 20px;
      background: #ff216f;
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 8px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <!-- ... all unchanged content before the embedded checkout ... -->

  <!-- EMBEDDED CHECKOUT PANEL -->
  <div id="embedded-checkout">
    <h2>Complete Your Purchase</h2>
    <form id="payment-form">
      <input type="text" id="buyer-name" required placeholder="Full Name">
      <input type="email" id="buyer-email" required placeholder="Email Address">
      <input type="text" id="buyer-address" required placeholder="Street Address">
      <input type="text" id="buyer-city" required placeholder="City">
      <input type="text" id="buyer-state" required placeholder="State">
      <input type="text" id="buyer-zip" required placeholder="ZIP Code">
      <div id="card-container" style="margin: 20px 0;"></div>
      <button id="card-button" type="button">Pay Now</button>
      <div id="payment-status" style="margin-top: 16px;"></div>
    </form>
  </div>

  <script src="https://sandbox.web.squarecdn.com/v1/square.js"></script>
  <script>
    const appId = "sq0idp-do2thVrkpZ500YTQnqF9vg";
    const locationId = "LEX59H08FVDAX";
    let card;

    async function initializeSquareForm() {
      const payments = window.Square.payments(appId, locationId);
      card = await payments.card();
      await card.attach('#card-container');
    }

    document.getElementById('checkout-btn').addEventListener('click', () => {
      if (cart.length === 0) return alert('Cart is empty');
      document.getElementById('embedded-checkout').style.display = 'block';
      initializeSquareForm();
    });

    document.getElementById('card-button').addEventListener('click', async () => {
      const result = await card.tokenize();
      if (result.status !== 'OK') {
        document.getElementById('payment-status').textContent = '❌ Card failed to tokenize.';
        return;
      }

      const payload = {
        token: result.token,
        buyer: {
          name: document.getElementById('buyer-name').value,
          email: document.getElementById('buyer-email').value,
          address: document.getElementById('buyer-address').value,
          city: document.getElementById('buyer-city').value,
          state: document.getElementById('buyer-state').value,
          zip: document.getElementById('buyer-zip').value
        },
        cart
      };

      const res = await fetch('/.netlify/functions/process-embedded-payment', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(payload)
      });

      const data = await res.json();
      document.getElementById('payment-status').textContent = data.success
        ? '✅ Payment successful!'
        : '❌ Payment failed.';
    });
  </script>


  <section id="taplist">
    <h2>Tap List</h2>
    <div class="carousel-wrapper">
  <div class="carousel" id="taplist-carousel">
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-absorbing-memories/6207395" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6207395_a3e42_hd.jpeg" alt="Absorbing Memories">
        <div>Absorbing Memories</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-local-legend/5660501" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Local Legend">
        <div>Local Legend</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-flat-day-ipa/5797585" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Flat Day">
        <div>Flat Day</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-tropical-legend/6118432" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6118432_44d2a_hd.jpeg" alt="Tropical Legend">
        <div>Tropical Legend</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-chance-encounter/6155607" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6118432_44d2a_hd.jpeg" alt="Chance Encounter">
        <div>Chance Encounter</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-run-drink-radler-repeat/6199245" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6199245_bb64b_hd.jpeg" alt="Grapefruit Radler">
        <div>Run Drink Radler Repeat</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-run-drink-radler-repeat/6199245" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6199245_bb64b_hd.jpeg" alt="Ube Coconut Stout">
        <div>Anniversary Stout: Year 1</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/howzit-brewing-reflecting-on-simplicity-helles-lager/6178595" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6178595_21808_hd.jpeg" alt="Helles Lager">
        <div>Reflecting on Simplicity</div>
      </a>
    </div>
    <div class="carousel-item">
      <a href="https://untappd.com/b/inu-island-ales-weiz-guyz/6215644" target="_blank">
        <img src="https://assets.untappd.com/site/beer_logos_hd/beer-6215644_613b8_hd.jpeg" alt="Hefeweizen">
        <div>Weiz Guys</div>
      </a>
    </div>
     <div class="carousel-item">
      <a href="https://www.youtube.com/watch?v=dQw4w9WgXcQ" target="_blank">
        <img src="https://i.imgur.com/gakGmqU.jpeg alt="Rotating Seltzer">
        <div>Rotating Seltzer</div>
      </a>
    </div>
  </div>
      </div>
  </section>

  
  <section id="togo">
    <h2>To Go</h2>
    <p id="no-togo-message" style="display: none;">No to-go beers at this time.</p>
    <div class="carousel-wrapper" id="togo-wrapper">
      <div class="carousel" id="togo-carousel">
        <div class="carousel-item">
          <a href="https://untappd.com" target="_blank">
            <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Can One">
            <div>Can One</div>
          </a>
        </div>
        <div class="carousel-item">
          <a href="https://untappd.com" target="_blank">
            <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Can Two">
            <div>Can Two</div>
          </a>
        </div>
        <div class="carousel-item">
          <a href="https://untappd.com" target="_blank">
            <img src="https://assets.untappd.com/site/beer_logos_hd/beer-5660501_bfc89_hd.jpeg" alt="Can Three">
            <div>Can Three</div>
          </a>
        </div>
      </div>
    </div>
  </section>


  <section id="visit" class="contact">
    <h2>Visit Us</h2>
    <p><strong>Address:</strong> 330 Kamani Street, Honolulu, HI</p>
    <div class="hours">
      <div id="mon">We're open seven days a week from 12pm–10pm</div>
      
    </div>
    <iframe src="https://www.google.com/maps?q=330+Kamani+Street+Honolulu+HI&output=embed" allowfullscreen></iframe>
  </section>

  <section id="faq">
    <h2>FAQ</h2>
    <div class="faq-entry">
      <h4>Do you allow dogs?</h4>
      <p>Yes, well behaved dogs are welcome on our outdoor patio.</p>
    </div>
    <div class="faq-entry">
      <h4>Are kids allowed</h4>
      <p>Kids are allowed but they must be seated by their parent AT ALL TIMES.</p>
    </div>
    <div class="faq-entry">
      <h4>Do you guys serve food?</h4>
      <p>We do not serve food but we work with a rotating selection of food trucks. Follow us on instagram for up to date information on who will be here.</p>
    </div>
    <div class="faq-entry">
      <h4>Do you have parking?</h4>
      <p>We have three spots in front of the building. There is usually street parking when construction is done for the day OR you can park in the garage at 831 Halekauwila and we will take your first hour's parking ($3) off your tab.</p>
      <div class="faq-entry">
      <h4>How do I get ahold of you?</h4>
      <p>Any questions you have may be sent to us via DM on instagram.</p>
    </div>
  </section>

  <script>
    
  // Toggle To-Go carousel based on availability
  const toGoAvailable = false; // Set to false when no to-go beers available
  const togoWrapper = document.getElementById('togo-wrapper');
  const noTogoMsg = document.getElementById('no-togo-message');

  if (!toGoAvailable) {
    togoWrapper.style.display = 'none';
    noTogoMsg.style.display = 'block';
  }

    // Code for logo to disappear on scroll
    window.addEventListener('scroll', function() {
        const logo = document.querySelector('.logo');
        if (window.scrollY > 50) {
            logo.style.display = 'none';
        } else {
            logo.style.display = 'block';
        }
    });
</script>

</body>
</html>
